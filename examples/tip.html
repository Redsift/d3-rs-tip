<html>
<meta charset="utf-8">
<head>
  <link rel="stylesheet" type="text/css" href="https://static.redsift.io/ui/latest/css/full/redsift-xtra.min.css">
  </head>
  <body>
    <h1>SVG Tip Demo</h2>
    <div id="elm">

    </div>
        
    <script src="https://d3js.org/d3.v4.0.0-alpha.44.min.js"></script>
    <script src="//static.redsift.io/reusable/d3-rs-svg/latest/d3-rs-svg.umd-es2015.min.js"></script>
    <script src="//static.redsift.io/reusable/d3-rs-calendar-chart/latest/d3-rs-calendar-chart.umd-es2015.min.js"></script>
    <script src="/d3-rs-tip.umd-es2015.min.js"></script>
    <script>

    'use strict';
    var points = [
      {date: '2016-05-01', value: 10},
      {date: '2016-05-01', value: 20},
      {date: '2016-05-05', value: 5},
      {date: '2016-06-02', value: 15}
    ];

    
    var chart = d3_rs_calendar_chart.html().lastWeeks(12);

    var rstip = d3_rs_tip.tip()
        .attr('class', 'd3-tip')
        .direction('n')
        .html((d) => d3.timeFormat('%d %b %Y')(new Date(d.date)) + ': ' + d.value);

    var chartElm = d3.select('#elm')
      .datum(points)
      .call(chart);

    d3.select('svg').call(rstip);
    d3.selectAll('.day')
      .on('mouseover', rstip.show)
      .on('mouseout', rstip.hide)

    </script>
  </body>
</html>
